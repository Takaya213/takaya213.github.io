function configureTooltips(n){var t=n(".js-tooltip"),i=n("body"),r;t.length&&t.each(function(t){var i=n(this),r=i.data(),u=typeof r.tooltipPrefixClass!="undefined"?r.tooltipPrefixClass+"-":"",f=t+1;i.attr({id:"label_tooltip_"+f});i.wrap('<span class="'+u+'container"><\/span>')});r="a[href], area[href], input:not([type='hidden']):not([disabled], select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";i.on("click",function(t){var i=n(t.target),r=n("#"+n("#js-tooltip-close").attr("data-focus-back")),u=n(".js-dialogtooltip"),f=u.attr("data-content-back-id"),e,o;(i.is(".js-dialogtooltip")||i.is(".js-tooltip")||i.closest(".js-dialogtooltip").length)&&!i.is(r)||(f!==""&&(e=n("#js-tooltip-content").html(),o=n("#"+f),o.html(e)),u.remove(),r.removeClass("is-active"))}).on("click",".js-tooltip.is-active",function(n){n.preventDefault()}).on("click",".js-tooltip:not('.is-active')",function(t){var e=n(this),i=e.data(),u=typeof i.tooltipPrefixClass!="undefined"?i.tooltipPrefixClass+"-":"",o=i.tooltipText||"",f=typeof i.tooltipContentId!="undefined"?"#"+i.tooltipContentId:"",w=typeof i.tooltipContentId!="undefined"?i.tooltipContentId:"",s=i.tooltipTitle||"",h=i.tooltipCloseText||"Close",b=i.tooltipCloseTitle||i.tooltipCloseText,c=i.tooltipCloseImg||"",l=e.attr("id"),r,a=n("#js-tooltip"),v=a.attr("data-content-back-id"),y,p;v!==""&&(y=n("#js-tooltip-content").html(),p=n("#"+v),p.html(y));a.remove();n(".js-tooltip").removeClass("is-active");r='<dialog id="js-tooltip" class="js-dialogtooltip '+u+'tooltip" data-launched-by="click" aria-labelledby="tooltip-title" open aria-modal="true" data-content-back-id="'+w+'"><div role="document" class="'+u+'tooltip__wrapper">';s!==""&&(r+='<h1 id="tooltip-title" class="tooltip-title '+u+'tooltip__title">'+s+"<\/h1>");o!==""?r+="<p>"+o+"<\/p>":f!==""&&n(f).length&&(r+='<div id="js-tooltip-content">',r+=n(f).html(),r+="<\/div>",n(f).html(""));r+='<button id="js-tooltip-close" class="'+u+'tooltip__close" data-focus-back="'+l+'" title="'+b+'" type="button"><span class="'+u+'tooltip__closetext__container">';r+=c!==""?'<img src="'+c+'" alt="'+h+'" class="'+u+'tooltip__closeimg" />':h;r+="<\/span><\/button>";r+="<\/div><\/dialog>";setTimeout(function(){n(r).insertAfter(e)},50);setTimeout(function(){n("#js-tooltip-close").focus()},51);n("#"+l).addClass("is-active");t.preventDefault()});i.on("click","#js-tooltip-close",function(){var t=n(this),i=n("#"+t.attr("data-focus-back")),r=t.parents("#js-tooltip").attr("data-content-back-id"),u,f;r!==""&&(u=n("#js-tooltip-content").html(),f=n("#"+r),f.html(u));n("#js-tooltip").remove();i.focus();i.removeClass("is-active")}).on("keydown","#js-tooltip",function(t){var e=n(this);if(t.keyCode==27&&(n("#js-tooltip-close").click(),t.preventDefault()),t.keyCode==9){var o=e.find("*"),i=o.filter(r).filter(":visible"),s=n(document.activeElement),u=i.length,f=i.index(s);t.shiftKey||f!=u-1||(i.get(0).focus(),t.preventDefault());t.shiftKey&&f==0&&(i.get(u-1).focus(),t.preventDefault())}})}jQuery(document).ready(function(n){configureTooltips(n)})